<div class="hero-text text-center mb-5">
    <h2>Welcome to StudySpace</h2>
    <p>A website designed to help you to find the classroom that best suits your needs.</p>
</div>

<div class="hero-image mt-5 text-center">
    <img src="assets/AulasSinOrdena.jpg" alt="Study Space classroom" style="max-width: 80%; height: auto; border-radius: 8px;"/>
</div>

<div class="container">
    
    <h3 class="mb-4 mt-5 pt-3">Available Rooms</h3>

    <div *ngIf="rooms.length === 0" class="alert alert-info">
        There are no available rooms in this moment.
    </div>

    <div class="row row-cols-1 row-cols-md-3 g-4">
        <div *ngFor="let room of rooms" class="col">
            
            <div class="card h-100 shadow-sm">
                <div class="card-header bg-primary text-white">
                    <h5 class="card-title mb-0">{{ room.name }}</h5>
                </div>
                
                <div class="card-body">
                    <p class="card-text">
                        <strong>Campus:</strong> {{ room.camp }}<br>
                        <strong>Ubication:</strong> {{ room.place }}<br>
                        <strong>Capacity:</strong> {{ room.capacity }} people
                    </p>
                    
                    <div *ngIf="room.software && room.software.length > 0">
                        <small class="text-muted fw-bold">Available software:</small>
                        <ul class="ps-3 mb-0" style="font-size: 0.9rem;">
                            <li *ngFor="let s of room.software">{{ s.name }}</li>
                        </ul>
                    </div>
                </div>
                
                <div class="card-footer bg-white border-top-0">
                    <button [routerLink]="['/rooms', room.id]" class="btn btn-outline-primary btn-sm w-100">
                        Show Details
                    </button>
                </div>
            </div>
        </div>
    </div>

    <nav aria-label="Page navigation" class="mt-4" *ngIf="pageData && pageData.totalPages > 1">
        <ul class="pagination justify-content-center">
            
            <li class="page-item" [class.disabled]="pageData.first">
                <a class="page-link" (click)="loadPage(0)" style="cursor: pointer;">&laquo;&laquo;</a>
            </li>

            <li class="page-item" [class.disabled]="pageData.first">
                <a class="page-link" (click)="loadPage(currentPage - 1)" style="cursor: pointer;">&laquo;</a>
            </li>

            <li class="page-item" *ngFor="let p of getVisiblePages()" [class.active]="p === currentPage">
                <a class="page-link" (click)="loadPage(p)" style="cursor: pointer;">{{ p + 1 }}</a>
            </li>

            <li class="page-item" [class.disabled]="pageData.last">
                <a class="page-link" (click)="loadPage(currentPage + 1)" style="cursor: pointer;">&raquo;</a>
            </li>

            <li class="page-item" [class.disabled]="pageData.last">
                <a class="page-link" (click)="loadPage(pageData.totalPages - 1)" style="cursor: pointer;">&raquo;&raquo;</a>
            </li>

        </ul>
        <div class="text-center text-muted mt-2">
            <small>Showing page {{ currentPage + 1 }} of {{ pageData.totalPages }}</small>
        </div>
    </nav>
    <div *ngIf="loginService.isLogged()" class="text-center mt-5 mb-5">
        <button [routerLink]="['/reservations/create']" class="btn btn-success btn-lg shadow px-5">
            üìÖ Book a room
        </button>
        
        <button *ngIf="loginService.isAdmin()" 
                [routerLink]="['/admin']" 
                class="btn btn-dark btn-lg shadow px-5 ms-2">
            ‚öôÔ∏è Admin Dashboard
        </button>
    </div>

</div>